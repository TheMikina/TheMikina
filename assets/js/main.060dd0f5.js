function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?c(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function d(t,e,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}"serviceWorker"in navigator&&"https:"===location.protocol&&window.addEventListener("load",(()=>{document.documentElement.classList.contains("no-sw")?navigator.serviceWorker.getRegistrations().then((t=>{if(t.length>0)for(const e of t)e.unregister()})):navigator.serviceWorker.register("/sw.js").catch((t=>{console.error("Error during service worker registration:",t)}))}));var v={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},g=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.assign(this,v,n),this.smartphone=v.smartphone,n.smartphone&&Object.assign(this.smartphone,n.smartphone),this.tablet=v.tablet,n.tablet&&Object.assign(this.tablet,n.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return n(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){t.resize(),t.resizeTick=!1})))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var t=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context)("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(e){e.addEventListener("click",t.setScrollTo,!1)}))}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,n=this.instance.scroll.y,i=n+this.windowHeight,r=this.instance.scroll.x,o=r+this.windowWidth;Object.entries(this.els).forEach((function(s){var a=p(s,2),l=a[0],c=a[1];if(!c||c.inView&&!t||("horizontal"===e.direction?o>=c.left&&r<c.right&&e.setInView(c,l):i>=c.top&&n<c.bottom&&e.setInView(c,l)),c&&c.inView)if("horizontal"===e.direction){var h=c.right-c.left;c.progress=(e.instance.scroll.x-(c.left-e.windowWidth))/(h+e.windowWidth),(o<c.left||r>c.right)&&e.setOutOfView(c,l)}else{var u=c.bottom-c.top;c.progress=(e.instance.scroll.y-(c.top-e.windowHeight))/(u+e.windowHeight),(i<c.top||n>c.bottom)&&e.setOutOfView(c,l)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var n=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach((function(t){t===e&&delete n.currentElements[t]})),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map((function(t){return t.trim()})),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var n=new Event(this.namespace+"call");this.el.dispatchEvent(n)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var n=this.listeners[t];n.push(e),1===n.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var n=this.listeners[t],i=n.indexOf(e);i<0||(n.splice(i,1),0===n.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,n=t.type.replace(this.namespace,""),i=this.listeners[n];i&&0!==i.length&&i.forEach((function(t){switch(n){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}}))}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(e){e.removeEventListener("click",t.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),e}(),b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function w(t,e){return t(e={exports:{}},e.exports),e.exports}var k=w((function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var n,i=t.HTMLElement||t.Element,r={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:i.prototype.scroll||a,scrollIntoView:i.prototype.scrollIntoView},o=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,s=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?f.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):r.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?r.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},i.prototype.scroll=i.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var t=arguments[0].left,e=arguments[0].top;f.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},i.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},i.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var n=d(this),i=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==e.body?(f.call(this,n,n.scrollLeft+o.left-i.left,n.scrollTop+o.top-i.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function a(t,e){this.scrollLeft=t,this.scrollTop=e}function l(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function h(e,n){var i=t.getComputedStyle(e,null)["overflow"+n];return"auto"===i||"scroll"===i}function u(t){var e=c(t,"Y")&&h(t,"Y"),n=c(t,"X")&&h(t,"X");return e||n}function d(t){for(;t!==e.body&&!1===u(t);)t=t.parentNode||t.host;return t}function p(e){var n,i,r,s,a=(o()-e.startTime)/468;s=a=a>1?1:a,n=.5*(1-Math.cos(Math.PI*s)),i=e.startX+(e.x-e.startX)*n,r=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,i,r),i===e.x&&r===e.y||t.requestAnimationFrame(p.bind(t,e))}function f(n,i,s){var l,c,h,u,d=o();n===e.body?(l=t,c=t.scrollX||t.pageXOffset,h=t.scrollY||t.pageYOffset,u=r.scroll):(l=n,c=n.scrollLeft,h=n.scrollTop,u=a),p({scrollable:l,method:u,startTime:d,startX:c,startY:h,x:i,y:s})}}}}));k.polyfill;var S=function(e){s(r,e);var i=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,r),(e=i.call(this,n)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=k,window.smoothscrollPolyfill.polyfill()),e}return n(r,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),d(a(r.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;d(a(r.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){t.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(e,n){e.getBoundingClientRect();var i,r,o,s=e.dataset[t.name+"Class"]||t.class,a="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:n,l="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,c=e.dataset[t.name+"Repeat"],h=e.dataset[t.name+"Call"],u=e.dataset[t.name+"Target"],d=(o=void 0!==u?document.querySelector("".concat(u)):e).getBoundingClientRect();i=d.top+t.instance.scroll.y,r=d.left+t.instance.scroll.x;var p=i+o.offsetHeight,f=r+o.offsetWidth;c="false"!=c&&(null!=c||t.repeat);var m=t.getRelativeOffset(l),y={el:e,targetEl:o,id:a,class:s,top:i+=m[0],bottom:p-=m[1],left:r,right:f,offset:l,progress:0,repeat:c,inView:!1,call:h};t.els[a]=y,e.classList.contains(s)&&t.setInView(t.els[a],a)}))}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach((function(e){var n=p(e,2),i=n[0],r=n[1],o=r.targetEl.getBoundingClientRect().top+t.instance.scroll.y,s=o+r.targetEl.offsetHeight,a=t.getRelativeOffset(r.offset);t.els[i].top=o+a[0],t.els[i].bottom=s-a[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var n=0;n<t.length;n++)"string"==typeof t[n]?t[n].includes("%")?e[n]=parseInt(t[n].replace("%","")*this.windowHeight/100):e[n]=parseInt(t[n]):e[n]=t[n];return e}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(e.offset)||0,i=!!e.callback&&e.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");n="number"!=typeof t?t.getBoundingClientRect().top+n+this.instance.scroll.y:t+n;var r=function(){return parseInt(window.pageYOffset)===parseInt(n)};if(i){if(r())return void i();var o=function t(){r()&&(window.removeEventListener("scroll",t),i())};window.addEventListener("scroll",o)}window.scrollTo({top:n,behavior:"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){d(a(r.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),r}(g),E=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function O(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var T=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,i,r=O(t),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))A.call(n,s)&&(r[s]=n[s]);if(E){i=E(n);for(var a=0;a<i.length;a++)x.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};function M(){}M.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function r(){i.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}};var j=M,L=w((function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,n,i){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=n?1+Math.abs(n):1.1,this.delay=null!=i?i:150,this.lastUpDeltas=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this),this.lastDownDeltas=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this),this.deltasTimestamp=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,n,i,r,o,s,a;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(i=e.slice(0,this.stability),n=e.slice(this.stability,2*this.stability),a=i.reduce((function(t,e){return t+e})),o=n.reduce((function(t,e){return t+e})),s=a/i.length,r=o/n.length,Math.abs(s)<Math.abs(r*this.tolerance)&&this.sensitivity<Math.abs(r)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(b)})),D={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1},C=Object.prototype.toString,_=Object.prototype.hasOwnProperty;function B(t,e){return function(){return t.apply(e,arguments)}}var P=L.Lethargy,V="virtualscroll",I=W,N=37,F=38,q=39,R=40,H=32;function W(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var n in t)_.call(t,n)&&"function"==typeof t[n]&&"[object Function]"==C.call(t[n])&&e.push(n);for(var i=0;i<e.length;i++){var r=e[i];t[r]=B(t[r],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=T({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new P),this._emitter=new j,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function K(t,e,n){return(1-n)*t+n*e}function Y(t){var e={};if(window.getComputedStyle){var n=getComputedStyle(t),i=n.transform||n.webkitTransform||n.mozTransform,r=i.match(/^matrix3d\((.+)\)$/);return r?(e.x=r?parseFloat(r[1].split(", ")[12]):0,e.y=r?parseFloat(r[1].split(", ")[13]):0):(r=i.match(/^matrix\((.+)\)$/),e.x=r?parseFloat(r[1].split(", ")[4]):0,e.y=r?parseFloat(r[1].split(", ")[5]):0),e}}function z(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}W.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(V,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},W.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var n=this._event;n.deltaX=t.wheelDeltaX||-1*t.deltaX,n.deltaY=t.wheelDeltaY||-1*t.deltaY,D.isFirefox&&1==t.deltaMode&&(n.deltaX*=e.firefoxMultiplier,n.deltaY*=e.firefoxMultiplier),n.deltaX*=e.mouseMultiplier,n.deltaY*=e.mouseMultiplier,this._notify(t)}},W.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},W.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},W.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var n=this._event,i=t.targetTouches?t.targetTouches[0]:t;n.deltaX=(i.pageX-this.touchStartX)*e.touchMultiplier,n.deltaY=(i.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=i.pageX,this.touchStartY=i.pageY,this._notify(t)},W.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var n=window.innerHeight-40;switch(t.keyCode){case N:case F:e.deltaY=this.options.keyStep;break;case q:case R:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=n;break;case H:e.deltaY=-n;break;default:return}this._notify(t)},W.prototype._bind=function(){D.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),D.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),D.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),D.hasPointer&&D.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),D.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},W.prototype._unbind=function(){D.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),D.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),D.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),D.hasPointer&&D.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),D.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},W.prototype.on=function(t,e){this._emitter.on(V,t,e);var n=this._emitter.e;n&&n[V]&&1===n[V].length&&this._bind()},W.prototype.off=function(t,e){this._emitter.off(V,t,e);var n=this._emitter.e;(!n[V]||n[V].length<=0)&&this._unbind()},W.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},W.prototype.destroy=function(){this._emitter.off(),this._unbind()};var X="function"==typeof Float32Array;function U(t,e){return 1-3*e+3*t}function $(t,e){return 3*e-6*t}function J(t){return 3*t}function G(t,e,n){return((U(e,n)*t+$(e,n))*t+J(e))*t}function Z(t,e,n){return 3*U(e,n)*t*t+2*$(e,n)*t+J(e)}function Q(t){return t}var tt=function(t,e,n,i){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===i)return Q;for(var r=X?new Float32Array(11):new Array(11),o=0;o<11;++o)r[o]=G(.1*o,t,n);function s(e){for(var i=0,o=1;10!==o&&r[o]<=e;++o)i+=.1;--o;var s=i+.1*((e-r[o])/(r[o+1]-r[o])),a=Z(s,t,n);return a>=.001?function(t,e,n,i){for(var r=0;r<4;++r){var o=Z(e,n,i);if(0===o)return e;e-=(G(e,n,i)-t)/o}return e}(e,s,t,n):0===a?s:function(t,e,n,i,r){var o,s,a=0;do{(o=G(s=e+(n-e)/2,i,r)-t)>0?n=s:e=s}while(Math.abs(o)>1e-7&&++a<10);return s}(e,i,i+.1,t,n)}return function(t){return 0===t?0:1===t?1:G(s(t),e,i)}},et=38,nt=40,it=32,rt=9,ot=33,st=34,at=36,lt=35,ct=function(e){s(r,e);var i=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,r),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=i.call(this,n)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=n.scrollbarContainer,e.checkKey=e.checkKey.bind(c(e)),window.addEventListener("keydown",e.checkKey,!1),e}return n(r,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=o({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new I({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(e){t.stop||t.isDraggingScrollbar||requestAnimationFrame((function(){t.updateDelta(e),t.isScrolling||t.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),d(a(r.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,n=0;n<e.length;n++)t+=e[n].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)t.keyCode==rt&&requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(t.keyCode){case rt:requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case et:this.instance.delta[this.directionAxis]-=240;break;case nt:this.instance.delta[this.directionAxis]+=240;break;case ot:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case st:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case at:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case lt:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case it:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return t.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var n=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),i=Date.now()-this.startScrollTs;if(!this.animatingScroll&&i>100&&(n<.5&&0!=this.instance.delta[this.directionAxis]||n<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(n){var i=p(n,2);i[0];var r=i[1];r.persistent||t.instance.scroll[t.directionAxis]>r.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<r.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(r.el,-t.instance.scroll[t.directionAxis],0):t.transform(r.el,0,-t.instance.scroll[t.directionAxis]),r.inView||(r.inView=!0,r.el.style.opacity=1,r.el.style.pointerEvents="all",r.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((r.inView||e)&&(r.inView=!1,r.el.style.opacity=0,r.el.style.pointerEvents="none",r.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(r.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var o=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,o,0):this.transform(this.scrollbarThumb,0,o)}d(a(r.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e,n=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;e="both"===n?t.deltaX+t.deltaY:"vertical"===n?t.deltaY:"horizontal"===n?t.deltaX:t.deltaY,this.instance.delta[this.directionAxis]-=e*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=K(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var n=100*(t.clientX-e.scrollbarBCR.left)/e.scrollbarWidth*e.instance.limit.x/100,i=100*(t.clientY-e.scrollbarBCR.top)/e.scrollbarHeight*e.instance.limit.y/100;i>0&&i<e.instance.limit.y&&(e.instance.delta.y=i),n>0&&n<e.instance.limit.x&&(e.instance.delta.x=n)}))}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(e,n){var i,r,o,s=z(e),a=Object.entries(t.sections).map((function(t){var e=p(t,2);return e[0],e[1]})).find((function(t){return s.includes(t.el)})),l=e.dataset[t.name+"Class"]||t.class,c="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"el"+n,h=e.dataset[t.name+"Repeat"],u=e.dataset[t.name+"Call"],d=e.dataset[t.name+"Position"],f=e.dataset[t.name+"Delay"],m=e.dataset[t.name+"Direction"],y="string"==typeof e.dataset[t.name+"Sticky"],v=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,g="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,b=e.dataset[t.name+"Target"],w=(o=void 0!==b?document.querySelector("".concat(b)):e).getBoundingClientRect();null===a||a.inView?(i=w.top+t.instance.scroll.y-Y(o).y,r=w.left+t.instance.scroll.x-Y(o).x):(i=w.top-Y(a.el).y-Y(o).y,r=w.left-Y(a.el).x-Y(o).x);var k=i+o.offsetHeight,S=r+o.offsetWidth,E={x:(S-r)/2+r,y:(k-i)/2+i};if(y){var A=e.getBoundingClientRect(),x=A.top,O=A.left,T={x:O-r,y:x-i};i+=window.innerHeight,r+=window.innerWidth,k=x+o.offsetHeight-e.offsetHeight-T[t.directionAxis],E={x:((S=O+o.offsetWidth-e.offsetWidth-T[t.directionAxis])-r)/2+r,y:(k-i)/2+i}}h="false"!=h&&(null!=h||t.repeat);var M=[0,0];if(g)if("horizontal"===t.direction){for(var j=0;j<g.length;j++)"string"==typeof g[j]?g[j].includes("%")?M[j]=parseInt(g[j].replace("%","")*t.windowWidth/100):M[j]=parseInt(g[j]):M[j]=g[j];r+=M[0],S-=M[1]}else{for(j=0;j<g.length;j++)"string"==typeof g[j]?g[j].includes("%")?M[j]=parseInt(g[j].replace("%","")*t.windowHeight/100):M[j]=parseInt(g[j]):M[j]=g[j];i+=M[0],k-=M[1]}var L={el:e,id:c,class:l,section:a,top:i,middle:E,bottom:k,left:r,right:S,offset:g,progress:0,repeat:h,inView:!1,call:u,speed:v,delay:f,position:d,target:o,direction:m,sticky:y};t.els[c]=L,e.classList.contains(l)&&t.setInView(t.els[c],c),(!1!==v||y)&&(t.parallaxElements[c]=L)}))}},{key:"addSections",value:function(){var t=this;this.sections={};var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach((function(e,n){var i="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"section"+n,r=e.getBoundingClientRect(),o={x:r.left-1.5*window.innerWidth-Y(e).x,y:r.top-1.5*window.innerHeight-Y(e).y},s={x:o.x+r.width+2*window.innerWidth,y:o.y+r.height+2*window.innerHeight},a="string"==typeof e.dataset[t.name+"Persistent"];e.setAttribute("data-scroll-section-id",i);var l={el:e,offset:o,limit:s,inView:!1,persistent:a,id:i};t.sections[i]=l}))}},{key:"transform",value:function(t,e,n,i){var r;if(i){var o=Y(t),s=K(o.x,e,i),a=K(o.y,n,i);r="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(s,",").concat(a,",0,1)")}else r="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(n,",0,1)");t.style.webkitTransform=r,t.style.msTransform=r,t.style.transform=r}},{key:"transformElements",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.instance.scroll.x+this.windowWidth,r=this.instance.scroll.y+this.windowHeight,o={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(s){var a=p(s,2);a[0];var l=a[1],c=!1;if(t&&(c=0),l.inView||n)switch(l.position){case"top":c=e.instance.scroll[e.directionAxis]*-l.speed;break;case"elementTop":c=(r-l.top)*-l.speed;break;case"bottom":c=(e.instance.limit[e.directionAxis]-r+e.windowHeight)*l.speed;break;case"left":c=e.instance.scroll[e.directionAxis]*-l.speed;break;case"elementLeft":c=(i-l.left)*-l.speed;break;case"right":c=(e.instance.limit[e.directionAxis]-i+e.windowHeight)*l.speed;break;default:c=(o[e.directionAxis]-l.middle[e.directionAxis])*-l.speed}l.sticky&&(c=l.inView?"horizontal"===e.direction?e.instance.scroll.x-l.left+window.innerWidth:e.instance.scroll.y-l.top+window.innerHeight:"horizontal"===e.direction?e.instance.scroll.x<l.left-window.innerWidth&&e.instance.scroll.x<l.left-window.innerWidth/2?0:e.instance.scroll.x>l.right&&e.instance.scroll.x>l.right+100&&l.right-l.left+window.innerWidth:e.instance.scroll.y<l.top-window.innerHeight&&e.instance.scroll.y<l.top-window.innerHeight/2?0:e.instance.scroll.y>l.bottom&&e.instance.scroll.y>l.bottom+100&&l.bottom-l.top+window.innerHeight),!1!==c&&("horizontal"===l.direction||"horizontal"===e.direction&&"vertical"!==l.direction?e.transform(l.el,c,0,!t&&l.delay):e.transform(l.el,0,c,!t&&l.delay))}))}},{key:"scrollTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(n.offset)||0,r=isNaN(parseInt(n.duration))?1e3:parseInt(n.duration),o=n.easing||[.25,0,.35,1],s=!!n.disableLerp,a=!!n.callback&&n.callback;if(o=tt.apply(void 0,f(o)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){var l=z(t).includes(this.el);if(!l)return;var c=t.getBoundingClientRect(),h=c.top,u=c.left,d=z(t),m=d.find((function(t){return Object.entries(e.sections).map((function(t){var e=p(t,2);return e[0],e[1]})).find((function(e){return e.el==t}))})),y=0;y=m?Y(m)[this.directionAxis]:-this.instance.scroll[this.directionAxis],i="horizontal"===this.direction?u+i-y:h+i-y}else i=t+i;var v=parseFloat(this.instance.delta[this.directionAxis]),g=Math.max(0,Math.min(i,this.instance.limit[this.directionAxis])),b=g-v,w=function(t){s?"horizontal"===e.direction?e.setScroll(v+b*t,e.instance.delta.y):e.setScroll(e.instance.delta.x,v+b*t):e.instance.delta[e.directionAxis]=v+b*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var k=Date.now(),S=function t(){var n=(Date.now()-k)/r;n>1?(w(1),e.animatingScroll=!1,0==r&&e.update(),a&&a()):(e.scrollToRaf=requestAnimationFrame(t),w(o(n)))};S()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=o(o({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){d(a(r.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),r}(g);const ht=new(function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.options=n,Object.assign(this,v,n),this.smartphone=v.smartphone,n.smartphone&&Object.assign(this.smartphone,n.smartphone),this.tablet=v.tablet,n.tablet&&Object.assign(this.tablet,n.tablet),this.smooth||"horizontal"!=this.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return n(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new ct(this.options):this.scroll=new S(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}())({el:document.querySelector("[data-scroll-container]"),smooth:!0,direction:"vertical",getSpeed:!0,getDirection:!0,multiplier:document.documentElement.classList.contains("firefox")?3:1});setTimeout((()=>{ht.update();new ResizeObserver((()=>{ht.update()})).observe(document.body)}),1e3);const ut={animation:t=>{let e;const n="data-offset";window.innerWidth>960&&(e=0,null!==t.getAttribute(n)&&(e=isNaN(parseInt(t.getAttribute(n)))?document.querySelector(t.getAttribute(n)).offsetHeight:parseInt(t.getAttribute(n)))),void 0===ht||ht.isMobile?document.documentElement.scroll({top:t.offsetTop-e,behavior:"smooth"}):ht.scrollTo(t,{offset:-e})},action:t=>{let e=t.getAttribute("href");null===e&&(e=t.getAttribute("data-action-href"));const n=document.querySelector(`[id="${e.replace("#","")}"]`);let i=t.getAttribute("data-action-options");null===i&&(i=""),null!==n&&(i.indexOf("mobile")>-1&&window.innerWidth>960||(ut.animation(n),i.indexOf("hash")>-1&&(window.location.hash=n)))},init:()=>{const t=[...document.querySelectorAll("[id]")];null!==t[0]&&t.forEach((t=>{window.location.hash&&t.getAttribute("id")===window.location.hash.replace("#","")&&setTimeout((()=>ut.animation(t)),500)}))}};ut.init();const dt={init:()=>{if("approve"===localStorage.getItem("cookieconsent")){const t=localStorage.getItem("cookieconsent_type");null!==t?"performance"===t?dt.append("performance"):"marketing"===t&&dt.append("all"):dt.append("all")}else null===localStorage.getItem("cookieconsent")&&dt.append("all")},set:(t,e)=>{"approve"===t?(localStorage.setItem("cookieconsent","approve"),dt.append("all")):"performance"===t?(localStorage.setItem("cookieconsent","approve"),localStorage.setItem("cookieconsent_type","performance"),dt.append("performance")):"marketing"===t?(localStorage.setItem("cookieconsent","approve"),localStorage.setItem("cookieconsent_type","marketing"),dt.append("all")):"decline"===t&&(localStorage.setItem("cookieconsent","decline"),localStorage.removeItem("cookieconsent_type"),dt.remove(),e&&e())},remove:()=>{document.cookie.split(";").forEach((t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")}))},append:t=>{document.querySelectorAll("[data-lib-cookieconsent]").forEach((e=>{if("all"===t||e.getAttribute("data-lib-cookieconsent")===t){const t=document.createElement("script");let n=0;[...e.attributes].forEach((e=>{e.specified&&-1===e.name.indexOf("data-lib-cookieconsent")&&-1===e.name.indexOf("type")&&t.setAttribute(e.name,e.value)})),t.innerHTML=e.innerHTML,e.getAttribute("data-lib-cookieconsent-delay")&&(n=parseInt(e.getAttribute("data-lib-cookieconsent-delay"))),setTimeout((()=>{null!==e.closest("body")?document.body.appendChild(t):null!==e.closest("head")&&document.head.appendChild(t),e.remove()}),n)}}))}};var pt=function(){function t(t,e,n){this.eventTarget=t,this.eventName=e,this.eventOptions=n,this.unorderedBindings=new Set}return t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)},t.prototype.bindingConnected=function(t){this.unorderedBindings.add(t)},t.prototype.bindingDisconnected=function(t){this.unorderedBindings.delete(t)},t.prototype.handleEvent=function(t){for(var e=function(t){if("immediatePropagationStopped"in t)return t;var e=t.stopImmediatePropagation;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,e.call(this)}})}(t),n=0,i=this.bindings;n<i.length;n++){var r=i[n];if(e.immediatePropagationStopped)break;r.handleEvent(e)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort((function(t,e){var n=t.index,i=e.index;return n<i?-1:n>i?1:0}))},enumerable:!1,configurable:!0}),t}();var ft=function(){function t(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}return t.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach((function(t){return t.connect()})))},t.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach((function(t){return t.disconnect()})))},Object.defineProperty(t.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce((function(t,e){return t.concat(Array.from(e.values()))}),[])},enumerable:!1,configurable:!0}),t.prototype.bindingConnected=function(t){this.fetchEventListenerForBinding(t).bindingConnected(t)},t.prototype.bindingDisconnected=function(t){this.fetchEventListenerForBinding(t).bindingDisconnected(t)},t.prototype.handleError=function(t,e,n){void 0===n&&(n={}),this.application.handleError(t,"Error "+e,n)},t.prototype.fetchEventListenerForBinding=function(t){var e=t.eventTarget,n=t.eventName,i=t.eventOptions;return this.fetchEventListener(e,n,i)},t.prototype.fetchEventListener=function(t,e,n){var i=this.fetchEventListenerMapForEventTarget(t),r=this.cacheKey(e,n),o=i.get(r);return o||(o=this.createEventListener(t,e,n),i.set(r,o)),o},t.prototype.createEventListener=function(t,e,n){var i=new pt(t,e,n);return this.started&&i.connect(),i},t.prototype.fetchEventListenerMapForEventTarget=function(t){var e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e},t.prototype.cacheKey=function(t,e){var n=[t];return Object.keys(e).sort().forEach((function(t){n.push((e[t]?"":"!")+t)})),n.join(":")},t}(),mt=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;function yt(t){return"window"==t?window:"document"==t?document:void 0}var vt=function(){function t(t,e,n){this.element=t,this.index=e,this.eventTarget=n.eventTarget||t,this.eventName=n.eventName||function(t){var e=t.tagName.toLowerCase();if(e in gt)return gt[e](t)}(t)||bt("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||bt("missing identifier"),this.methodName=n.methodName||bt("missing method name")}return t.forToken=function(t){return new this(t.element,t.index,(e=t.content,{eventTarget:yt((i=e.trim().match(mt)||[])[4]),eventName:i[2],eventOptions:i[9]?(n=i[9],n.split(":").reduce((function(t,e){var n;return Object.assign(t,((n={})[e.replace(/^!/,"")]=!/^!/.test(e),n))}),{})):{},identifier:i[5],methodName:i[7]}));var e,n,i},t.prototype.toString=function(){var t=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+t+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(t.prototype,"eventTargetName",{get:function(){return(t=this.eventTarget)==window?"window":t==document?"document":void 0;var t},enumerable:!1,configurable:!0}),t}(),gt={a:function(t){return"click"},button:function(t){return"click"},form:function(t){return"submit"},input:function(t){return"submit"==t.getAttribute("type")?"click":"input"},select:function(t){return"change"},textarea:function(t){return"input"}};function bt(t){throw new Error(t)}var wt=function(){function t(t,e){this.context=t,this.action=e}return Object.defineProperty(t.prototype,"index",{get:function(){return this.action.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventOptions",{get:function(){return this.action.eventOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),t.prototype.handleEvent=function(t){this.willBeInvokedByEvent(t)&&this.invokeWithEvent(t)},Object.defineProperty(t.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){var t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!1,configurable:!0}),t.prototype.invokeWithEvent=function(t){try{this.method.call(this.controller,t)}catch(i){var e=this,n={identifier:e.identifier,controller:e.controller,element:e.element,index:e.index,event:t};this.context.handleError(i,'invoking action "'+this.action+'"',n)}},t.prototype.willBeInvokedByEvent=function(t){var e=t.target;return this.element===e||(e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element))},Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),t}(),kt=function(){function t(t,e){var n=this;this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver((function(t){return n.processMutations(t)}))}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started){for(var t=new Set(this.matchElementsInTree()),e=0,n=Array.from(this.elements);e<n.length;e++){var i=n[e];t.has(i)||this.removeElement(i)}for(var r=0,o=Array.from(t);r<o.length;r++){i=o[r];this.addElement(i)}}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,n=t;e<n.length;e++){var i=n[e];this.processMutation(i)}},t.prototype.processMutation=function(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))},t.prototype.processAttributeChange=function(t,e){var n=t;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,e):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},t.prototype.processRemovedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var i=n[e],r=this.elementFromNode(i);r&&this.processTree(r,this.removeElement)}},t.prototype.processAddedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var i=n[e],r=this.elementFromNode(i);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}},t.prototype.matchElement=function(t){return this.delegate.matchElement(t)},t.prototype.matchElementsInTree=function(t){return void 0===t&&(t=this.element),this.delegate.matchElementsInTree(t)},t.prototype.processTree=function(t,e){for(var n=0,i=this.matchElementsInTree(t);n<i.length;n++){var r=i[n];e.call(this,r)}},t.prototype.elementFromNode=function(t){if(t.nodeType==Node.ELEMENT_NODE)return t},t.prototype.elementIsActive=function(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)},t.prototype.addElement=function(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))},t.prototype.removeElement=function(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))},t}(),St=function(){function t(t,e,n){this.attributeName=e,this.delegate=n,this.elementObserver=new kt(t,this)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.elementObserver.start()},t.prototype.stop=function(){this.elementObserver.stop()},t.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(t.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!1,configurable:!0}),t.prototype.matchElement=function(t){return t.hasAttribute(this.attributeName)},t.prototype.matchElementsInTree=function(t){var e=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(this.selector));return e.concat(n)},t.prototype.elementMatched=function(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)},t.prototype.elementUnmatched=function(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)},t.prototype.elementAttributeChanged=function(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)},t}(),Et=function(){function t(t,e){var n=this;this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((function(t){return n.processMutations(t)}))}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started)for(var t=0,e=this.knownAttributeNames;t<e.length;t++){var n=e[t];this.refreshAttribute(n)}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,n=t;e<n.length;e++){var i=n[e];this.processMutation(i)}},t.prototype.processMutation=function(t){var e=t.attributeName;e&&this.refreshAttribute(e)},t.prototype.refreshAttribute=function(t){var e=this.delegate.getStringMapKeyForAttribute(t);if(null!=e){this.stringMap.has(t)||this.stringMapKeyAdded(e,t);var n=this.element.getAttribute(t);this.stringMap.get(t)!=n&&this.stringMapValueChanged(n,e),null==n?(this.stringMap.delete(t),this.stringMapKeyRemoved(e,t)):this.stringMap.set(t,n)}},t.prototype.stringMapKeyAdded=function(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)},t.prototype.stringMapValueChanged=function(t,e){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e)},t.prototype.stringMapKeyRemoved=function(t,e){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e)},Object.defineProperty(t.prototype,"knownAttributeNames",{get:function(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentAttributeNames",{get:function(){return Array.from(this.element.attributes).map((function(t){return t.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"recordedAttributeNames",{get:function(){return Array.from(this.stringMap.keys())},enumerable:!1,configurable:!0}),t}();function At(t,e,n){Ot(t,e).add(n)}function xt(t,e,n){Ot(t,e).delete(n),function(t,e){var n=t.get(e);null!=n&&0==n.size&&t.delete(e)}(t,e)}function Ot(t,e){var n=t.get(e);return n||(n=new Set,t.set(e,n)),n}var Tt,Mt=function(){function t(){this.valuesByKey=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(t,e){return t.concat(Array.from(e))}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(t,e){return t+e.size}),0)},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){At(this.valuesByKey,t,e)},t.prototype.delete=function(t,e){xt(this.valuesByKey,t,e)},t.prototype.has=function(t,e){var n=this.valuesByKey.get(t);return null!=n&&n.has(e)},t.prototype.hasKey=function(t){return this.valuesByKey.has(t)},t.prototype.hasValue=function(t){return Array.from(this.valuesByKey.values()).some((function(e){return e.has(t)}))},t.prototype.getValuesForKey=function(t){var e=this.valuesByKey.get(t);return e?Array.from(e):[]},t.prototype.getKeysForValue=function(t){return Array.from(this.valuesByKey).filter((function(e){return e[0],e[1].has(t)})).map((function(t){var e=t[0];return t[1],e}))},t}(),jt=window&&window.__extends||(Tt=function(t,e){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){function e(){var e=t.call(this)||this;return e.keysByValue=new Map,e}jt(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!1,configurable:!0}),e.prototype.add=function(e,n){t.prototype.add.call(this,e,n),At(this.keysByValue,n,e)},e.prototype.delete=function(e,n){t.prototype.delete.call(this,e,n),xt(this.keysByValue,n,e)},e.prototype.hasValue=function(t){return this.keysByValue.has(t)},e.prototype.getKeysForValue=function(t){var e=this.keysByValue.get(t);return e?Array.from(e):[]}}(Mt);var Lt=function(){function t(t,e,n){this.attributeObserver=new St(t,e,this),this.delegate=n,this.tokensByElement=new Mt}return Object.defineProperty(t.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.attributeObserver.start()},t.prototype.stop=function(){this.attributeObserver.stop()},t.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!1,configurable:!0}),t.prototype.elementMatchedAttribute=function(t){this.tokensMatched(this.readTokensForElement(t))},t.prototype.elementAttributeValueChanged=function(t){var e=this.refreshTokensForElement(t),n=e[0],i=e[1];this.tokensUnmatched(n),this.tokensMatched(i)},t.prototype.elementUnmatchedAttribute=function(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))},t.prototype.tokensMatched=function(t){var e=this;t.forEach((function(t){return e.tokenMatched(t)}))},t.prototype.tokensUnmatched=function(t){var e=this;t.forEach((function(t){return e.tokenUnmatched(t)}))},t.prototype.tokenMatched=function(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)},t.prototype.tokenUnmatched=function(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)},t.prototype.refreshTokensForElement=function(t){var e,n,i,r=this.tokensByElement.getValuesForKey(t),o=this.readTokensForElement(t),s=(e=r,n=o,i=Math.max(e.length,n.length),Array.from({length:i},(function(t,i){return[e[i],n[i]]}))).findIndex((function(t){return!function(t,e){return t&&e&&t.index==e.index&&t.content==e.content}(t[0],t[1])}));return-1==s?[[],[]]:[r.slice(s),o.slice(s)]},t.prototype.readTokensForElement=function(t){var e=this.attributeName;return function(t,e,n){return t.trim().split(/\s+/).filter((function(t){return t.length})).map((function(t,i){return{element:e,attributeName:n,content:t,index:i}}))}(t.getAttribute(e)||"",t,e)},t}();var Dt=function(){function t(t,e,n){this.tokenListObserver=new Lt(t,e,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(t.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.tokenListObserver.start()},t.prototype.stop=function(){this.tokenListObserver.stop()},t.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!1,configurable:!0}),t.prototype.tokenMatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).set(t,n),this.delegate.elementMatchedValue(e,n))},t.prototype.tokenUnmatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,n))},t.prototype.fetchParseResultForToken=function(t){var e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e},t.prototype.fetchValuesByTokenForElement=function(t){var e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e},t.prototype.parseToken=function(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(t){return{error:t}}},t}(),Ct=function(){function t(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}return t.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new Dt(this.element,this.actionAttribute,this),this.valueListObserver.start())},t.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.context.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!1,configurable:!0}),t.prototype.connectAction=function(t){var e=new wt(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)},t.prototype.disconnectAction=function(t){var e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))},t.prototype.disconnectAllActions=function(){var t=this;this.bindings.forEach((function(e){return t.delegate.bindingDisconnected(e)})),this.bindingsByAction.clear()},t.prototype.parseValueForToken=function(t){var e=vt.forToken(t);if(e.identifier==this.identifier)return e},t.prototype.elementMatchedValue=function(t,e){this.connectAction(e)},t.prototype.elementUnmatchedValue=function(t,e){this.disconnectAction(e)},t}(),_t=function(){function t(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new Et(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap,this.invokeChangedCallbacksForDefaultValues()}return t.prototype.start=function(){this.stringMapObserver.start()},t.prototype.stop=function(){this.stringMapObserver.stop()},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),t.prototype.getStringMapKeyForAttribute=function(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name},t.prototype.stringMapValueChanged=function(t,e){this.invokeChangedCallbackForValue(e)},t.prototype.invokeChangedCallbacksForDefaultValues=function(){for(var t=0,e=this.valueDescriptors;t<e.length;t++){var n=e[t],i=n.key,r=n.name;null==n.defaultValue||this.controller.data.has(i)||this.invokeChangedCallbackForValue(r)}},t.prototype.invokeChangedCallbackForValue=function(t){var e=t+"Changed",n=this.receiver[e];if("function"==typeof n){var i=this.receiver[t];n.call(this.receiver,i)}},Object.defineProperty(t.prototype,"valueDescriptors",{get:function(){var t=this.valueDescriptorMap;return Object.keys(t).map((function(e){return t[e]}))},enumerable:!1,configurable:!0}),t}(),Bt=function(){function t(t,e){this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new Ct(this,this.dispatcher),this.valueObserver=new _t(this,this.controller);try{this.controller.initialize()}catch(t){this.handleError(t,"initializing controller")}}return t.prototype.connect=function(){this.bindingObserver.start(),this.valueObserver.start();try{this.controller.connect()}catch(t){this.handleError(t,"connecting controller")}},t.prototype.disconnect=function(){try{this.controller.disconnect()}catch(t){this.handleError(t,"disconnecting controller")}this.valueObserver.stop(),this.bindingObserver.stop()},Object.defineProperty(t.prototype,"application",{get:function(){return this.module.application},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!1,configurable:!0}),t.prototype.handleError=function(t,e,n){void 0===n&&(n={});var i=this,r=i.identifier,o=i.controller,s=i.element;n=Object.assign({identifier:r,controller:o,element:s},n),this.application.handleError(t,"Error "+e,n)},t}();function Pt(t,e){var n=It(t);return Array.from(n.reduce((function(t,n){return function(t,e){var n=t[e];return Array.isArray(n)?n:[]}(n,e).forEach((function(e){return t.add(e)})),t}),new Set))}function Vt(t,e){return It(t).reduce((function(t,n){return t.push.apply(t,function(t,e){var n=t[e];return n?Object.keys(n).map((function(t){return[t,n[t]]})):[]}(n,e)),t}),[])}function It(t){for(var e=[];t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}var Nt=window&&window.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ft=window&&window.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};function qt(t){return function(t,e){var n=Ht(t),i=function(t,e){return Rt(e).reduce((function(n,i){var r,o=function(t,e,n){var i=Object.getOwnPropertyDescriptor(t,n);if(!i||!("value"in i)){var r=Object.getOwnPropertyDescriptor(e,n).value;return i&&(r.get=i.get||r.get,r.set=i.set||r.set),r}}(t,e,i);return o&&Object.assign(n,((r={})[i]=o,r)),n}),{})}(t.prototype,e);return Object.defineProperties(n.prototype,i),n}(t,function(t){return Pt(t,"blessings").reduce((function(e,n){var i=n(t);for(var r in i){var o=e[r]||{};e[r]=Object.assign(o,i[r])}return e}),{})}(t))}var Rt="function"==typeof Object.getOwnPropertySymbols?function(t){return Ft(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Ht=function(){function t(t){function e(){var n=this&&this instanceof e?this.constructor:void 0;return Reflect.construct(t,arguments,n)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return(e=t((function(){this.a.call(this)}))).prototype.a=function(){},new e,t}catch(t){return function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nt(e,t),e}(t)}}var e}();var Wt=function(){function t(t,e){this.application=t,this.definition=function(t){return{identifier:t.identifier,controllerConstructor:qt(t.controllerConstructor)}}(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!1,configurable:!0}),t.prototype.connectContextForScope=function(t){var e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()},t.prototype.disconnectContextForScope=function(t){var e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())},t.prototype.fetchContextForScope=function(t){var e=this.contextsByScope.get(t);return e||(e=new Bt(this,t),this.contextsByScope.set(t,e)),e},t}(),Kt=function(){function t(t){this.scope=t}return t.prototype.has=function(t){return this.data.has(this.getDataKey(t))},t.prototype.get=function(t){return this.data.get(this.getDataKey(t))},t.prototype.getAttributeName=function(t){return this.data.getAttributeNameForKey(this.getDataKey(t))},t.prototype.getDataKey=function(t){return t+"-class"},Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),t}();function Yt(t){return t.replace(/(?:[_-])([a-z0-9])/g,(function(t,e){return e.toUpperCase()}))}function zt(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Xt(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}var Ut=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)},t.prototype.set=function(t,e){var n=this.getAttributeNameForKey(t);return this.element.setAttribute(n,e),this.get(t)},t.prototype.has=function(t){var e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)},t.prototype.delete=function(t){if(this.has(t)){var e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}return!1},t.prototype.getAttributeNameForKey=function(t){return"data-"+this.identifier+"-"+Xt(t)},t}(),$t=function(){function t(t){this.warnedKeysByObject=new WeakMap,this.logger=t}return t.prototype.warn=function(t,e,n){var i=this.warnedKeysByObject.get(t);i||(i=new Set,this.warnedKeysByObject.set(t,i)),i.has(e)||(i.add(e),this.logger.warn(n,t))},t}();function Jt(t,e){return"["+t+'~="'+e+'"]'}var Gt=window&&window.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},Zt=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return null!=this.find(t)},t.prototype.find=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce((function(e,n){return e||t.findTarget(n)||t.findLegacyTarget(n)}),void 0)},t.prototype.findAll=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce((function(e,n){return Gt(e,t.findAllTargets(n),t.findAllLegacyTargets(n))}),[])},t.prototype.findTarget=function(t){var e=this.getSelectorForTargetName(t);return this.scope.findElement(e)},t.prototype.findAllTargets=function(t){var e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)},t.prototype.getSelectorForTargetName=function(t){return Jt("data-"+this.identifier+"-target",t)},t.prototype.findLegacyTarget=function(t){var e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)},t.prototype.findAllLegacyTargets=function(t){var e=this,n=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(n).map((function(n){return e.deprecate(n,t)}))},t.prototype.getLegacySelectorForTargetName=function(t){var e=this.identifier+"."+t;return Jt(this.schema.targetAttribute,e)},t.prototype.deprecate=function(t,e){if(t){var n=this.identifier,i=this.schema.targetAttribute;this.guide.warn(t,"target:"+e,"Please replace "+i+'="'+n+"."+e+'" with data-'+n+'-target="'+e+'". The '+i+" attribute is deprecated and will be removed in a future version of Stimulus.")}return t},Object.defineProperty(t.prototype,"guide",{get:function(){return this.scope.guide},enumerable:!1,configurable:!0}),t}(),Qt=window&&window.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},te=function(){function t(t,e,n,i){var r=this;this.targets=new Zt(this),this.classes=new Kt(this),this.data=new Ut(this),this.containsElement=function(t){return t.closest(r.controllerSelector)===r.element},this.schema=t,this.element=e,this.identifier=n,this.guide=new $t(i)}return t.prototype.findElement=function(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)},t.prototype.findAllElements=function(t){return Qt(this.element.matches(t)?[this.element]:[],this.queryElements(t).filter(this.containsElement))},t.prototype.queryElements=function(t){return Array.from(this.element.querySelectorAll(t))},Object.defineProperty(t.prototype,"controllerSelector",{get:function(){return Jt(this.schema.controllerAttribute,this.identifier)},enumerable:!1,configurable:!0}),t}(),ee=function(){function t(t,e,n){this.element=t,this.schema=e,this.delegate=n,this.valueListObserver=new Dt(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return t.prototype.start=function(){this.valueListObserver.start()},t.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),t.prototype.parseValueForToken=function(t){var e=t.element,n=t.content,i=this.fetchScopesByIdentifierForElement(e),r=i.get(n);return r||(r=this.delegate.createScopeForElementAndIdentifier(e,n),i.set(n,r)),r},t.prototype.elementMatchedValue=function(t,e){var n=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,n),1==n&&this.delegate.scopeConnected(e)},t.prototype.elementUnmatchedValue=function(t,e){var n=this.scopeReferenceCounts.get(e);n&&(this.scopeReferenceCounts.set(e,n-1),1==n&&this.delegate.scopeDisconnected(e))},t.prototype.fetchScopesByIdentifierForElement=function(t){var e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e},t}(),ne=function(){function t(t){this.application=t,this.scopeObserver=new ee(this.element,this.schema,this),this.scopesByIdentifier=new Mt,this.modulesByIdentifier=new Map}return Object.defineProperty(t.prototype,"element",{get:function(){return this.application.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this.application.logger},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return this.modules.reduce((function(t,e){return t.concat(e.contexts)}),[])},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.scopeObserver.start()},t.prototype.stop=function(){this.scopeObserver.stop()},t.prototype.loadDefinition=function(t){this.unloadIdentifier(t.identifier);var e=new Wt(this.application,t);this.connectModule(e)},t.prototype.unloadIdentifier=function(t){var e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)},t.prototype.getContextForElementAndIdentifier=function(t,e){var n=this.modulesByIdentifier.get(e);if(n)return n.contexts.find((function(e){return e.element==t}))},t.prototype.handleError=function(t,e,n){this.application.handleError(t,e,n)},t.prototype.createScopeForElementAndIdentifier=function(t,e){return new te(this.schema,t,e,this.logger)},t.prototype.scopeConnected=function(t){this.scopesByIdentifier.add(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)},t.prototype.scopeDisconnected=function(t){this.scopesByIdentifier.delete(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)},t.prototype.connectModule=function(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((function(e){return t.connectContextForScope(e)}))},t.prototype.disconnectModule=function(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((function(e){return t.disconnectContextForScope(e)}))},t}(),ie={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},re=window&&window.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},oe=window&&window.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},se=window&&window.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},ae=function(){function t(t,e){void 0===t&&(t=document.documentElement),void 0===e&&(e=ie),this.logger=console,this.element=t,this.schema=e,this.dispatcher=new ft(this),this.router=new ne(this)}return t.start=function(e,n){var i=new t(e,n);return i.start(),i},t.prototype.start=function(){return re(this,void 0,void 0,(function(){return oe(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",t):t()}))];case 1:return t.sent(),this.dispatcher.start(),this.router.start(),[2]}}))}))},t.prototype.stop=function(){this.dispatcher.stop(),this.router.stop()},t.prototype.register=function(t,e){this.load({identifier:t,controllerConstructor:e})},t.prototype.load=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=Array.isArray(t)?t:se([t],n);r.forEach((function(t){return e.router.loadDefinition(t)}))},t.prototype.unload=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=Array.isArray(t)?t:se([t],n);r.forEach((function(t){return e.router.unloadIdentifier(t)}))},Object.defineProperty(t.prototype,"controllers",{get:function(){return this.router.contexts.map((function(t){return t.controller}))},enumerable:!1,configurable:!0}),t.prototype.getControllerForElementAndIdentifier=function(t,e){var n=this.router.getContextForElementAndIdentifier(t,e);return n?n.controller:null},t.prototype.handleError=function(t,e,n){this.logger.error("%s\n\n%o\n\n%o",e,t,n)},t}();function le(t){return Pt(t,"classes").reduce((function(t,e){return Object.assign(t,((i={})[r=(n=e)+"Class"]={get:function(){var t=this.classes;if(t.has(n))return t.get(n);var e=t.getAttributeName(n);throw new Error('Missing attribute "'+e+'"')}},i["has"+zt(r)]={get:function(){return this.classes.has(n)}},i));var n,i,r}),{})}function ce(t){return Pt(t,"targets").reduce((function(t,e){return Object.assign(t,((i={})[(n=e)+"Target"]={get:function(){var t=this.targets.find(n);if(t)return t;throw new Error('Missing target element "'+this.identifier+"."+n+'"')}},i[n+"Targets"]={get:function(){return this.targets.findAll(n)}},i["has"+zt(n)+"Target"]={get:function(){return this.targets.has(n)}},i));var n,i}),{})}function he(t){var e=Vt(t,"values"),n={valueDescriptorMap:{get:function(){var t=this;return e.reduce((function(e,n){var i,r=ue(n),o=t.data.getAttributeNameForKey(r.key);return Object.assign(e,((i={})[o]=r,i))}),{})}}};return e.reduce((function(t,e){return Object.assign(t,function(t){var e,n=ue(t),i=n.type,r=n.key,o=n.name,s=pe[i],a=fe[i]||fe.default;return(e={})[o]={get:function(){var t=this.data.get(r);return null!==t?s(t):n.defaultValue},set:function(t){void 0===t?this.data.delete(r):this.data.set(r,a(t))}},e["has"+zt(o)]={get:function(){return this.data.has(r)}},e}(e))}),n)}function ue(t){return function(t,e){var n=Xt(t)+"-value";return{type:e,key:n,name:Yt(n),get defaultValue(){return de[e]}}}(t[0],function(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}throw new Error('Unknown value type constant "'+t+'"')}(t[1]))}var de={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},pe={array:function(t){var e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError("Expected array");return e},boolean:function(t){return!("0"==t||"false"==t)},number:function(t){return parseFloat(t)},object:function(t){var e=JSON.parse(t);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError("Expected object");return e},string:function(t){return t}},fe={default:function(t){return""+t},array:me,object:me};function me(t){return JSON.stringify(t)}var ye=function(){function t(t){this.context=t}return Object.defineProperty(t.prototype,"application",{get:function(){return this.context.application},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classes",{get:function(){return this.scope.classes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){},t.prototype.connect=function(){},t.prototype.disconnect=function(){},t.blessings=[le,ce,he],t.targets=[],t.values={},t}();const ve=["ui-input","ui-select","ui-wsw","ui-checkbox","ui-radio","c-cookieconsent","c-form-cookieconsent"],ge=[['a[href^="#"]',"click->lib#anchor"],[".ui-btn","click->lib#ripple"]];function be(t){var e,n;n=ve,null!==(e=t)&&n.forEach((t=>{[...e.getElementsByClassName(t)].forEach((e=>{null===e.getAttribute("data-controller")&&e.setAttribute("data-controller",t)}))})),function(t,e){null!==t&&e.forEach((e=>{t.querySelectorAll(e[0]).forEach((t=>{const n=t.getAttribute("data-action");null===n?t.setAttribute("data-action",e[1]):-1===n.indexOf(e[1])&&t.setAttribute("data-action",`${n} ${e[1]}`)}))}))}(t,ge)}const we=new ae(document.documentElement,{controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-ref"}),ke=(t,e)=>we.getControllerForElementAndIdentifier(t,e);class Se extends ye{getValue(t){return this[`${t}Value`]}setValue(t,e){this[`${t}Value`]=e}hasValue(t){return this.data.has(`${t}Value`)}getClass(t){return this.data.get(`${t}Class`)}queryTarget(t){return this.targets.find(t)}queryTargetAll(t){return this.targets.findAll(t)}hasTarget(t){return this.targets.has(t)}}function Ee(t,e,n){let i=!0;if(void 0!==t.redrawBlocks&&void 0!==t.redrawBlocks[e]&&t.redrawBlocks[e].length){i=!1;for(const i in t.redrawBlocks[e]){const r=(new DOMParser).parseFromString(n,"text/html").body.firstChild,o=t.redrawBlocks[e][i].block,s=t.redrawBlocks[e][i].insertType,a=t.redrawBlocks[e][i].sourceBlock;let l;if(a?(l=r.querySelector("#"+a),null!==l&&l.setAttribute("id",o)):l=r.getAttribute("id")===o?r:r.querySelector("#"+o),null!==l){switch(s){case"default":document.querySelector("#"+o).outerHTML=l.outerHTML;break;case"append":l&&document.querySelector("#"+o).insertAdjacentHTML("beforeend",l.innerHTML)}be(document.getElementById(o))}}}if(i){const t=(new DOMParser).parseFromString(n,"text/html").body.firstChild;if(t.getAttribute("id")===e)document.querySelector("#"+e).outerHTML=t.outerHTML;else{const n=t.querySelector("#"+e);document.querySelector("#"+e).outerHTML=n.outerHTML}be(document.getElementById(e))}}function Ae(t,e){if(t){if(t.redirect&&("this"===t.redirect?location.href=window.location.href.split("#")[0]:location.href=t.redirect),t.snippets)for(const e in t.snippets)if("object"==typeof t.snippets[e])for(const n in t.snippets[e])Ee(t,e,t.snippets[e][n]);else Ee(t,e,t.snippets[e]);if(t.dialog&&t.dialog.length&&null!==document.querySelector(".lib-dialog")){const e=(new DOMParser).parseFromString(t.dialog,"text/html");e.querySelector(".part_dialog").style="animation: none",document.querySelector(".lib-dialog").innerHTML=e.querySelector(".part_dialog").outerHTML}t.replaceState&&(window.history.replaceState({url:t.replaceState.url,random:Math.random(),source:"swup"},t.replaceState.title||null,t.replaceState.url),t.replaceState.title&&(document.title=t.replaceState.title),"function"==typeof window.ga&&window.ga("send","pageview",window.location.pathname+window.location.search),"function"==typeof gtag&&window.gtag("event","page_view",{page_path:window.location.pathname+window.location.search})),e&&e()}}we.start().then((()=>be(document))),window.LibStimulus=we,Element.prototype._addDataValue=function(t,e){t=`data-${t}`;let n=this.getAttribute(t);null===n?this.setAttribute(t,e):(e=e.split(" "),n=n.split(" "),e.map((t=>!n.includes(t)&&n.push(t))),this.setAttribute(t,n.join(" ")))},Element.prototype._removeDataValue=function(t,e){const n=[];t=`data-${t}`;const i=this.getAttribute(t);null!==i&&(i.split(" ").map((t=>!e.split(" ").includes(t)&&n.push(t))),0!==n.length?this.setAttribute(t,n.join(" ")):this.removeAttribute(t))},Element.prototype._hasDataValue=function(t,e){t=`data-${t}`;const n=this.getAttribute(t);return null!==n&&n.split(" ").includes(e)},we.register("lib-fetch",class extends Se{link(t){t.preventDefault();let e=t.currentTarget.getAttribute("data-href");e&&e.length||(e=t.currentTarget.getAttribute("href")),fetch(e,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((t=>t.json())).then((t=>{Ae(t)}))}form(t){t.preventDefault();const e=t.currentTarget,n=new FormData(e),i=e.querySelector("button[type=submit]");if(void 0!==HTMLFormElement.prototype.checkValidity&&!1===e.checkValidity()&&null!==e.getAttribute("novalidate"))return!1;i&&(i._addDataValue("state","loading"),i.disabled=!0),fetch(e.getAttribute("action"),{method:e.getAttribute("method"),body:n,headers:{"X-Requested-With":"XMLHttpRequest"}}).then((t=>t.json())).then((t=>{Ae(t)})).then((()=>{i&&(e.querySelector("button[type=submit]")._removeDataValue("state","loading"),e.querySelector("button[type=submit]").disabled=!1,ht.update()),void 0!==e.dataset.orderform&&ut.animation(document.querySelector("#objednej"))}))}submitForm(t){t.currentTarget.form.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}});var xe={recaptcha:"https://www.google.com/recaptcha/api.js?render={apikey}",seamless:"https://cdn.jsdelivr.net/npm/seamless-scroll-polyfill@1.2.3/dist/es5/seamless.min.js",pickr_css:"https://cdn.jsdelivr.net/npm/@simonwep/pickr@1.8.0/dist/themes/nano.min.css",tippy:"https://cdn.jsdelivr.net/combine/npm/tippy.js@6.3.1/dist/tippy.css,npm/tippy.js@6.3.1/dist/svg-arrow.css,npm/tippy.js@6.3.1/themes/light-border.css,npm/tippy.js@6.3.1/animations/scale.css",datepicker:"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.0.3/dist/css/datepicker.min.css"};we.register("lib-recaptcha",class extends Se{connect(){setTimeout((()=>this.captcha()),2500),this.interval=setInterval((()=>this.captcha()),15e4)}captcha(){var t;(t=xe.recaptcha.replace("{apikey}",this.data.get("api")),new Promise(((e,n)=>{if(null===document.querySelector(`script[src="${t}"]`)){const i=document.createElement("script");i._importScript=new Promise(((e,n)=>{i.src=t,i.onload=e,i.onerror=n})).then(e).catch(n),document.head.appendChild(i)}else document.querySelector(`script[src="${t}"]`)._importScript.then(e)}))).then((()=>{window.grecaptcha.ready((()=>{window.grecaptcha.execute(this.data.get("api"),{action:"form"}).then((t=>{this.element.querySelector('[name="gtoken"]').value=t}))}))}))}disconnect(){clearInterval(this.interval)}}),we.register("lib",class extends Se{ripple(t){!function(t,e){const n=n=>{null===n.querySelector(".lib-ripple-inner")&&n.insertAdjacentHTML("beforeend","<div class='lib-ripple-inner'></div>");const i=n.querySelector(".lib-ripple-inner");if(i.classList.remove("animation"),0===i.clientWidth&&0===i.clientHeight){const e=Math.max(t.offsetWidth,t.offsetHeight);i.style.width=e+"px",i.style.height=e+"px"}let r,o;n===document.body?(r=e.clientX-n.offsetLeft-i.clientWidth/2,o=e.clientY-n.offsetTop-i.clientHeight/2):(r=e.pageX-n.offsetLeft-i.clientWidth/2,o=e.pageY-n.offsetTop-i.clientHeight/2),i.style.top=o+"px",i.style.left=r+"px",i.classList.add("animation")};"body"===t.getAttribute("data-action-ripple")?n(document.body):n(t)}(t.currentTarget,t)}anchor(t){t.preventDefault(),ut.action(t.currentTarget)}}),we.register("s-preview",class extends Se{toggle(){this.element.querySelector(".s-preview--body")._removeDataValue("state","hidden"),setTimeout((()=>ht.update()),1200),void 0===ht||ht.isMobile?document.documentElement.scroll({top:this.element.offsetTop-32,behavior:"smooth"}):ht.scrollTo(this.element,{offset:-32})}}),we.register("s-share",class extends Se{addEmail(t){const e=t.currentTarget.closest(".ui-input"),n=e.querySelector('[type="email"]');if("keydown"===t.type){if("Enter"!==t.key)return!1;t.preventDefault()}return n.checkValidity()&&""!==n.value?(e._removeDataValue("state","invalid"),this.queryTarget("emails").value.includes(n.value+";")?(e._addDataValue("state","invalid"),n.focus(),!1):(this.queryTarget("badges").insertAdjacentHTML("beforeend",`\n      <div class="col">\n          <div class="ui-badge"><span>${n.value}</span><span class="icon icon-close ml-3 text-secondary text-xl cursor-pointer" data-action="click->s-share#removeEmail"></span></div>\n      </div>\n    `),this.queryTarget("emails").value+=n.value+";",e._removeDataValue("state","valid active"),ht.update(),n.value="",void n.focus())):(e._addDataValue("state","invalid"),n.focus(),!1)}removeEmail(t){const e=t.currentTarget;let n=e.closest(".ui-badge").textContent;this.queryTarget("emails").value=this.queryTarget("emails").value.replace(n+";",""),e.closest(".col").remove(),ht.update()}}),dt.init(),we.register("c-cookieconsent",class extends Se{connect(){const t=this.element;null===localStorage.getItem("cookieconsent")&&setTimeout((()=>{t._addDataValue("state","active"),t.classList.add("is-animate")}),1500),t.addEventListener("click",(()=>{t.classList.add("is-mobile-show")})),t.querySelector("[data-lib-cookieconsent-approve]").addEventListener("click",(()=>{dt.set("approve"),t.classList.remove("is-animate"),setTimeout((()=>{t._removeDataValue("state","active"),t.remove()}),500)})),t.querySelector("[data-lib-cookieconsent-decline]").addEventListener("click",(()=>{dt.set("performance"),t.classList.remove("is-animate"),setTimeout((()=>{t._removeDataValue("state","active"),t.remove()}),500)}))}}),we.register("c-form-cookieconsent",class extends Se{connect(){const t=this.element;if(null!==localStorage.getItem("cookieconsent"))if("approve"===localStorage.getItem("cookieconsent")){const e=localStorage.getItem("cookieconsent_type");null!==e&&"performance"===e?t.querySelector('input[value="performance"]').checked=!0:t.querySelector('input[value="approve"]').checked=!0}else"decline"===localStorage.getItem("cookieconsent")&&(t.querySelector('input[value="decline"]').checked=!0);t.addEventListener("submit",(t=>{t.preventDefault();const e=new FormData(t.target).get("cookies");"approve"===e?(dt.set("marketing"),location.reload()):"performance"===e?(dt.set("performance"),location.reload()):"decline"===e&&dt.set("decline",(()=>location.reload()))}))}}),we.register("c-form",class extends Se{validate(t,e){!1===t.reportValidity()&&(e.preventDefault(),e.stopPropagation(),void 0===ht||ht.isMobile||ht.scrollTo(t.querySelector("input:invalid"),{offset:-32})),t.querySelectorAll(".ui-input").forEach((t=>{ke(t,"ui-input").validate(t,!0)})),t.querySelectorAll('.ui-select:not([data-state*="active"]) select[required]').forEach((t=>{ke(t.parentNode,"ui-select").validate(t.parentNode,t)})),t.querySelectorAll('[data-controller="ui-checkbox"] input:not([type="hidden"])').forEach((t=>{t.parentNode._removeDataValue("state","valid invalid"),t.checkValidity()?t.parentNode._addDataValue("state","valid"):t.parentNode._addDataValue("state","invalid")}))}connect(){const t=this.element;void 0!==HTMLFormElement.prototype.reportValidity&&(t.setAttribute("novalidate",""),t.addEventListener("submit",(e=>this.validate(t,e)),!1))}}),we.register("ui-checkbox",class extends Se{validate(t){t.parentNode._removeDataValue("state","valid invalid"),t.checkValidity()?t.parentNode._addDataValue("state","valid"):t.parentNode._addDataValue("state","invalid")}connect(){const t=this.element.querySelector('input:not([type="hidden"])');t.addEventListener("change",(()=>this.validate(t)))}}),we.register("ui-input",class extends Se{connect(){const t=this.element;this.validate(t,!1),t.addEventListener("change",(()=>{this.validate(t,!0)}))}validate(t,e){t.querySelectorAll("input, textarea").forEach((n=>{let i=n.validationMessage;void 0!==n.dataset.validationMessage&&(i=n.dataset.validationMessage),null===n.outerHTML.match(/(data-novalidate|readonly|hidden|data-state="invalid")/)&&e&&(t._removeDataValue("state","valid invalid active"),null!==t.querySelector('[class^="icon"][class*="valid"]')&&t.querySelector('[class^="icon"][class*="valid"]').remove(),n.checkValidity()?(t._addDataValue("state","valid"),null===t.querySelector('[class^="icon"][class*="valid"]')&&t.insertAdjacentHTML("beforeend",'<span class="icon-r icon-valid text-success"></span>')):(t._addDataValue("state","invalid"),null===t.querySelector('[class^="icon"][class*="valid"]')&&t.insertAdjacentHTML("beforeend",`<span class="icon-r icon-invalid text-error"><span tabindex="0" class="lib-hint-top lib-hint-error" aria-label="${i}"></span></span>`))),""!==n.value&&t._addDataValue("state","active")}))}}),we.register("ui-radio",class extends Se{validate(t){t.parentNode._removeDataValue("state","valid invalid"),t.checkValidity()?(t.parentNode._addDataValue("state","valid"),document.querySelectorAll(`input[name="${t.name}"]`).forEach((t=>{t.parentNode._addDataValue("state","valid")}))):t.parentNode._addDataValue("state","invalid")}connect(){const t=this.element.querySelector('input:not([type="hidden"])');t.addEventListener("change",(()=>this.validate(t)))}}),we.register("ui-select",class extends Se{validate(t,e){t._removeDataValue("state","invalid valid focus"),null!==t.querySelector('[class^="icon"][class*="valid"]')&&t.querySelector('[class^="icon"][class*="valid"]').remove();let n=e.validationMessage;void 0!==e.dataset.validationMessage&&(n=e.dataset.validationMessage),e.checkValidity()?t._addDataValue("state","valid"):(t._addDataValue("state","invalid"),null===t.querySelector('[class^="icon"][class*="valid"]')&&t.insertAdjacentHTML("beforeend",`<span class="icon-r icon-invalid text-error"><span tabindex="0" class="lib-hint-top lib-hint-error" aria-label="${n}"></span></span>`))}connect(){const t=this.element,e=t.querySelector("select"),n=t.querySelectorAll("[data-option]");t.addEventListener("click",(()=>{t._hasDataValue("state","focus")?t._removeDataValue("state","focus"):t._addDataValue("state","focus"),t.addEventListener("blur",(function e(){t._removeDataValue("state","focus"),t.removeEventListener("blur",e)}),!0)}),!0),t.addEventListener("click",(e=>{(t._hasDataValue("state","focus")&&0===e.timeStamp||"OPTION"===e.target.tagName)&&t._removeDataValue("state","focus")})),e.addEventListener("change",(()=>{this.validate(t,e),""===e.value?t._removeDataValue("state","active"):t._addDataValue("state","active")})),null!==n[0]&&n.forEach((t=>{t.addEventListener("click",(()=>{e.value=t.getAttribute("data-option"),e.dispatchEvent(new Event("change",{bubbles:!0}))}))})),""===e.value?t._removeDataValue("state","active"):t._addDataValue("state","active")}}),we.register("ui-wsw",class extends Se{connect(){const t=this,e=t.element;Array.from(e.querySelectorAll("table")).forEach((e=>{t.wrap(e,(new DOMParser).parseFromString('<div class="elm_text_table"></div>',"text/html").body.firstChild)})),Array.from(e.querySelectorAll("iframe")).forEach((e=>{e.src.match(/youtubee\.com/i)?t.wrap(e,(new DOMParser).parseFromString(`<div class="elm_text_video" style="max-width: ${e.width.includes("%")?e.width:e.width+"px"}"></div>`,"text/html").body.firstChild):e.width&&"undefined"!==e.style.aspectRatio&&(e.style.aspectRatio=e.width+"/"+e.height,e.style.height="auto")}))}wrap(t,e){t.parentNode.insertBefore(e,t),e.appendChild(t)}});